#!/bin/sh

# Settings manager

# Defaults
lines="$DMENU_LINES"
border="$DMENU_BORDER"
height="$DMENU_HEIGHT"
prompt="󰢻 Settings for $(whoami):"

# For settings that need config file editing
config_edit="$TERMINAL -e $EDITOR"

# List of choices (function)
list_choices(){
	cat << EOF
󰸌 Appearance
󰿻 Account
󰍁 Lock screen
󰍂 Login screen
󰍹 Display
󰂏 Power management
󰲝 Network
󰂳 Bluetooth
󰧺 Input devices
󰕾 Audio
󰜇 Printer
󰌧 Autostart
󰌧 WM autostart
󰧺 Keybindings
󰧺 WM keybindings
EOF
}

# dmenu command
dmenu_cmd(){
	dmenu -c -n -l $lines -bw $border -h $height -p "$prompt"
}

# Command
choice=$(list_choices | dmenu_cmd)

case "$choice" in
  "󰸌 Appearance") $STYLE ;;
  "󰿻 Account") $USER_INFO ;;
  "󰍁 Lock screen") $config_edit $HOME/.xprofile ;;
  "󰍂 Login screen") pkexec $LOGIN ;;
  "󰍹 Display") $RANDR ;;
  "󰂏 Power management") $POWER_MGR ;;
  "󰲝 Network") $NM_EDITOR ;;
  "󰂳 Bluetooth") $BLUETOOTH ;;
  "󰧺 Input devices") $INPUT ;;
  "󰕾 Audio") $AUDIO ;;
  "󰜇 Printer") $PRINT ;;
  "󰌧 Autostart") $config_edit $AUTOSTART ;;
  "󰌧 WM autostart") $config_edit $WM_AUTOSTART ;;
  "󰧺 Keybindings") $config_edit $KEYBIND ;;
  "󰧺 WM keybindings") $WM_KEYBIND ;;
esac
